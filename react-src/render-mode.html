<!DOCTYPE html><html lang="cn"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/media/62122003a050e1bd-s.p.ttf" as="font" type="font/ttf" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/aceb6d5e7704f218-s.p.ttf" as="font" type="font/ttf" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/ae31b57542b06250.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ae31b57542b06250.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-38cee4c0e358b1a3.js" defer=""></script><script src="/_next/static/chunks/framework-6698976aa0ea586d.js" defer=""></script><script src="/_next/static/chunks/main-9ca4f46f71f15dad.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a08fec001b3e2b97.js" defer=""></script><script src="/_next/static/chunks/7a7c95a0-ab903f899792323b.js" defer=""></script><script src="/_next/static/chunks/581-340f217658a3c725.js" defer=""></script><script src="/_next/static/chunks/pages/%5B%5B...id%5D%5D-9e513b1713de17be.js" defer=""></script><script src="/_next/static/1n3RON42eWQmN0ceCWFd0/_buildManifest.js" defer=""></script><script src="/_next/static/1n3RON42eWQmN0ceCWFd0/_ssgManifest.js" defer=""></script></head><body class=" bg-light text-light-text dark:bg-dark dark:text-dark-text max-sm:text-sm"><script>
                (function () {
                  function setTheme(newTheme) {
                    window.__theme = newTheme;
                    if (newTheme === 'dark') {
                      document.documentElement.classList.add('dark');
                    } else if (newTheme === 'light') {
                      document.documentElement.classList.remove('dark');
                    }
                  }

                  var preferredTheme;
                  try {
                    preferredTheme = localStorage.getItem('theme');
                  } catch (err) { }

                  window.__setPreferredTheme = function(newTheme) {
                    preferredTheme = newTheme;
                    setTheme(newTheme);
                    try {
                      localStorage.setItem('theme', newTheme);
                    } catch (err) { }
                  };

                  var initialTheme = preferredTheme;
                  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');

                  if (!initialTheme) {
                    initialTheme = darkQuery.matches ? 'dark' : 'light';
                  }
                  setTheme(initialTheme);

                  darkQuery.addEventListener('change', function (e) {
                    if (!preferredTheme) {
                      setTheme(e.matches ? 'dark' : 'light');
                    }
                  });
                })();
              </script><div id="__next"><div class="__className_118c38"><header class="w-full fixed t-0 h-14 border-b backdrop-blur border-slate-900/10 dark:border-slate-300/10 z-10"><div class="w-full h-full flex flex-row items-center justify-between px-4"><div>BLOG</div><div class="p-1 mr-2 flex flex-row rounded-full items-center justify-between hover:bg-dark/5 hover:dark:bg-light/5"><button class="block dark:hidden" type="button" aria-label="Use Dark Mode"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" stroke="currentColor"><title>moon</title><path fill="currentColor" d="M15.505 16.496c-1.97-1.971-2.499-4.819-1.626-7.284-0.953 0.337-1.854 0.865-2.616 1.626-2.734 2.734-2.734 7.167 0 9.9 2.733 2.733 7.164 2.735 9.898 0 0.764-0.762 1.29-1.663 1.626-2.616-2.463 0.872-5.312 0.344-7.283-1.626z"></path></svg></button><button type="button" class="hidden dark:block" aria-label="Use Light Mode"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" stroke="currentColor"><title>sun</title><path fill="currentColor" d="M16 9c-3.859 0-7 3.141-7 7s3.141 7 7 7 7-3.141 7-7c0-3.859-3.141-7-7-7zM16 21c-2.762 0-5-2.238-5-5s2.238-5 5-5 5 2.238 5 5-2.238 5-5 5zM16 7c0.552 0 1-0.448 1-1v-2c0-0.552-0.448-1-1-1s-1 0.448-1 1v2c0 0.552 0.448 1 1 1zM16 25c-0.552 0-1 0.448-1 1v2c0 0.552 0.448 1 1 1s1-0.448 1-1v-2c0-0.552-0.448-1-1-1zM23.777 9.635l1.414-1.414c0.391-0.391 0.391-1.023 0-1.414s-1.023-0.391-1.414 0l-1.414 1.414c-0.391 0.391-0.391 1.023 0 1.414s1.023 0.391 1.414 0zM8.223 22.365l-1.414 1.414c-0.391 0.391-0.391 1.023 0 1.414s1.023 0.391 1.414 0l1.414-1.414c0.391-0.392 0.391-1.023 0-1.414s-1.023-0.392-1.414 0zM7 16c0-0.552-0.448-1-1-1h-2c-0.552 0-1 0.448-1 1s0.448 1 1 1h2c0.552 0 1-0.448 1-1zM28 15h-2c-0.552 0-1 0.448-1 1s0.448 1 1 1h2c0.552 0 1-0.448 1-1s-0.448-1-1-1zM8.221 9.635c0.391 0.391 1.024 0.391 1.414 0s0.391-1.023 0-1.414l-1.414-1.414c-0.391-0.391-1.023-0.391-1.414 0s-0.391 1.023 0 1.414l1.414 1.414zM23.779 22.363c-0.392-0.391-1.023-0.391-1.414 0s-0.392 1.023 0 1.414l1.414 1.414c0.391 0.391 1.023 0.391 1.414 0s0.391-1.023 0-1.414l-1.414-1.414z"></path></svg></button></div></div></header><div class="pt-14 flex max-w-screen overflow-y-scroll"><nav class="hidden lg:block fixed top-14 lg:bottom-0 lg:h-screen w-[18rem] pb-10 px-4 overflow-y-auto min-h-screen z-10"><nav><ul class="mt-6"><!--$--><li class="mt-1"><div class="pl-1 border border-transparent rounded-sm font-bold hover:bg-hover text-lg"><a class="block" href="/html">html</a></div><ul><li class="pl-2 border border-transparent rounded-sm font-bold hover:bg-hover text-sm py-0.5"><a class="block" href="/html/SemanticsTag">语义化标签</a></li><li class="pl-2 border border-transparent rounded-sm font-bold hover:bg-hover text-sm py-0.5"><a class="block" href="/html/anchor">锚元素</a></li></ul></li><li class="mt-1"><div class="pl-1 border border-transparent rounded-sm font-bold hover:bg-hover text-lg"><a class="block" href="/css">css</a></div><ul><li class="pl-2 border border-transparent rounded-sm font-bold hover:bg-hover text-sm py-0.5"><a class="block" href="/css/flex">flex 布局</a></li><li class="pl-2 border border-transparent rounded-sm font-bold hover:bg-hover text-sm py-0.5"><a class="block" href="/css/grid">grid 布局</a></li><li class="pl-2 border border-transparent rounded-sm font-bold hover:bg-hover text-sm py-0.5"><a class="block" href="/css/unit">布局单位</a></li></ul></li><li class="mt-1"><div class="pl-1 border border-transparent rounded-sm font-bold hover:bg-hover text-lg"><a class="block" href="/react">react</a></div><ul><li class="pl-2 border border-transparent rounded-sm font-bold hover:bg-hover text-sm py-0.5"><a class="block" href="/react/lifecycle">lifecycle</a></li><li class="pl-2 border border-transparent rounded-sm font-bold hover:bg-hover text-sm py-0.5"><a class="block" href="/react/hook">hook</a></li></ul></li><li class="mt-1"><div class="pl-1 border border-transparent rounded-sm font-bold hover:bg-hover text-lg"><a class="block" href="/react-src">react 源码</a></div><ul><li class="pl-2 border border-transparent rounded-sm font-bold hover:bg-hover text-sm py-0.5"><a class="block" href="/react-src/fiber">fiber</a></li></ul></li><li class="mt-1"><div class="pl-1 border border-transparent rounded-sm font-bold hover:bg-hover text-lg"><a class="block" href="/demo">代码实例</a></div><ul><li class="pl-2 border border-transparent rounded-sm font-bold hover:bg-hover text-sm py-0.5"><a class="block" href="/demo/music-player">音乐播放器</a></li></ul></li><!--/$--></ul></nav></nav><main class="relative lg:ml-[18rem] min-w-0 flex-1 px-5 "><article class="mx-auto xl:max-w-none overflow-x-hidden xl:ml-0 xl:mr-[18rem]"><h1 class="mdx-heading text-3xl font-extrabold my-6 text-header dark:text-header-dark" id="渲染模式">渲染模式</h1>
<p class="whitespace-pre-wrap my-2 ">目前 react18 的渲染模式有 legacy/hydrate/concurrent mode
在 17 有 <a href="https://17.reactjs.org/docs/concurrent-mode-adoption.html#feature-comparison" class="hover:underline text-highlight decoration-2 underline-offset-2 decoration-highlight">blocking Mode</a> ，但是是一种过渡的方案，已经去掉了。</p>
<p class="whitespace-pre-wrap my-2 ">通常开发者可能会遇到以下三种使用 react 的渲染模式，绝大多数应该使用默认的 Concurrent Mode：</p>
<p class="whitespace-pre-wrap my-2 ">Legacy Mode（遗留模式）
对应 API：<code class="inline text-code text-secondary dark:text-secondary-dark px-1.5 py-0.5 rounded-md no-underline bg-[#f2ecde] dark:bg-[#2b333e] text-highlight whitespace-pre-wrap">ReactDOM.render(&lt;App /&gt;, rootNode)</code>
遗留模式是 React 默认的渲染模式，也是之前版本的行为。在遗留模式中，React 在进行初次渲染和更新时会阻塞浏览器的主线程。这意味着当 React 更新组件时，浏览器无法同时执行其他任务，可能导致用户体验不佳，尤其是在页面复杂、组件嵌套层级深的情况下。</p>
<p class="whitespace-pre-wrap my-2 ">Hydrate Mode（注水模式）
对应 API：<code class="inline text-code text-secondary dark:text-secondary-dark px-1.5 py-0.5 rounded-md no-underline bg-[#f2ecde] dark:bg-[#2b333e] text-highlight whitespace-pre-wrap">ReactDOM.hydrateRoot(rootNode, &lt;App/&gt;)</code>
注水模式是用于服务器端渲染（SSR）的一种模式。在服务器端渲染中，React 首次在服务器上渲染页面，然后将生成的 HTML 发送给客户端，客户端再将其“注水”转化为可交互的 React 应用。这个过程通常通过 ReactDOM.hydrate() 方法来完成，它会复用服务器端生成的 HTML 结构，然后在客户端上完成事件绑定和交互逻辑，以提高性能和用户体验。</p>
<p class="whitespace-pre-wrap my-2 ">Concurrent Mode（并发模式）
对应 API：<code class="inline text-code text-secondary dark:text-secondary-dark px-1.5 py-0.5 rounded-md no-underline bg-[#f2ecde] dark:bg-[#2b333e] text-highlight whitespace-pre-wrap">ReactDOM.createRoot(rootNode).render(&lt;App /&gt;)</code>
并发模式是 React 18 引入的新的渲染模式，旨在提高应用的性能和响应性。在并发模式下，React 通过将工作分解为优先级较低的任务单元，并使用调度器来协调这些任务的执行，从而允许浏览器在多个任务之间进行切换，从而不会阻塞主线程太长时间。这有助于保持应用的响应性，特别是在处理复杂渲染、动画和交互时。并发模式使得 React 能够更好地响应用户输入，并提供更平滑的用户体验。</p>
<p class="whitespace-pre-wrap my-2 ">Concurrent Mode 实际上是在 Legacy Mode 的基础上发展而来（部分特殊的渲染场景下，会仍然使用 Legacy Mode 的代码进行处理），了解 react 源码可以通过 Legacy Mode 的代码，以此为基础上学习 Concurrent Mode 的 react18 新特性的实现。</p>
<p class="whitespace-pre-wrap my-2 "><code class="inline text-code text-secondary dark:text-secondary-dark px-1.5 py-0.5 rounded-md no-underline bg-[#f2ecde] dark:bg-[#2b333e] text-highlight whitespace-pre-wrap">react/packages/react-reconciler/src/ReactTypeOfMode.js</code>
实际上源码还包含了 <code class="inline text-code text-secondary dark:text-secondary-dark px-1.5 py-0.5 rounded-md no-underline bg-[#f2ecde] dark:bg-[#2b333e] text-highlight whitespace-pre-wrap">ReactDOMRoot.js</code> 中会根据不同的模式，调用不同的渲染方法。但是这些其实不是特别重要。</p>
<pre><!--$--><div class="prism-code language-js rounded-md p-4 overflow-x-auto text-sm" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">NoMode</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">=</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(98, 114, 164)">/*                         */</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">0b000000</span><span class="whitespace-pre-wrap" style="color:rgb(248, 248, 242)">;</span><span class="whitespace-pre-wrap"></span></div><div class="token-line" style="color:#F8F8F2"><span class="whitespace-pre-wrap"></span><span class="whitespace-pre-wrap" style="color:rgb(98, 114, 164)">// TODO: Remove ConcurrentMode by reading from the root tag instead</span><span class="whitespace-pre-wrap"></span></div><div class="token-line" style="color:#F8F8F2"><span class="whitespace-pre-wrap"></span><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">ConcurrentMode</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">=</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(98, 114, 164)">/*                 */</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">0b000001</span><span class="whitespace-pre-wrap" style="color:rgb(248, 248, 242)">;</span><span class="whitespace-pre-wrap"></span></div><div class="token-line" style="color:#F8F8F2"><span class="whitespace-pre-wrap"></span><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">ProfileMode</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">=</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(98, 114, 164)">/*                    */</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">0b000010</span><span class="whitespace-pre-wrap" style="color:rgb(248, 248, 242)">;</span><span class="whitespace-pre-wrap"></span></div><div class="token-line" style="color:#F8F8F2"><span class="whitespace-pre-wrap"></span><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">DebugTracingMode</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">=</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(98, 114, 164)">/*               */</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">0b000100</span><span class="whitespace-pre-wrap" style="color:rgb(248, 248, 242)">;</span><span class="whitespace-pre-wrap"></span></div><div class="token-line" style="color:#F8F8F2"><span class="whitespace-pre-wrap"></span><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">StrictLegacyMode</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">=</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(98, 114, 164)">/*               */</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">0b001000</span><span class="whitespace-pre-wrap" style="color:rgb(248, 248, 242)">;</span><span class="whitespace-pre-wrap"></span></div><div class="token-line" style="color:#F8F8F2"><span class="whitespace-pre-wrap"></span><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">StrictEffectsMode</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">=</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(98, 114, 164)">/*              */</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">0b010000</span><span class="whitespace-pre-wrap" style="color:rgb(248, 248, 242)">;</span><span class="whitespace-pre-wrap"></span></div><div class="token-line" style="color:#F8F8F2"><span class="whitespace-pre-wrap"></span><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">ConcurrentUpdatesByDefaultMode</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">=</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap" style="color:rgb(98, 114, 164)">/* */</span><span class="whitespace-pre-wrap"> </span><span class="whitespace-pre-wrap">0b100000</span><span class="whitespace-pre-wrap" style="color:rgb(248, 248, 242)">;</span><span class="whitespace-pre-wrap"></span></div></div><!--/$--></pre></article><aside class="hidden xl:block fixed top-14 right-0 w-[18rem] py-6 overflow-y-auto"><ul class="text-sm font-medium"><li class="pl-2 text-base">渲染模式</li></ul></aside></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"toc":[{"text":"渲染模式","hash":"#渲染模式","depth":1}],"code":"var Component=(()=\u003e{var h=Object.create;var r=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var R=(n,e)=\u003e()=\u003e(e||n((e={exports:{}}).exports,e),e.exports),m=(n,e)=\u003e{for(var t in e)r(n,t,{get:e[t],enumerable:!0})},a=(n,e,t,d)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let c of l(e))!g.call(n,c)\u0026\u0026c!==t\u0026\u0026r(n,c,{get:()=\u003ee[c],enumerable:!(d=M(e,c))||d.enumerable});return n};var x=(n,e,t)=\u003e(t=n!=null?h(u(n)):{},a(e||!n||!n.__esModule?r(t,\"default\",{value:n,enumerable:!0}):t,n)),y=n=\u003ea(r({},\"__esModule\",{value:!0}),n);var i=R((O,s)=\u003e{s.exports=_jsx_runtime});var j={};m(j,{default:()=\u003ef});var o=x(i());function p(n){let e=Object.assign({h1:\"h1\",p:\"p\",a:\"a\",code:\"code\",pre:\"pre\"},n.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h1,{hash:\"\\u6E32\\u67D3\\u6A21\\u5F0F\",children:\"\\u6E32\\u67D3\\u6A21\\u5F0F\"}),`\n`,(0,o.jsxs)(e.p,{children:[`\\u76EE\\u524D react18 \\u7684\\u6E32\\u67D3\\u6A21\\u5F0F\\u6709 legacy/hydrate/concurrent mode\n\\u5728 17 \\u6709 `,(0,o.jsx)(e.a,{href:\"https://17.reactjs.org/docs/concurrent-mode-adoption.html#feature-comparison\",children:\"blocking Mode\"}),\" \\uFF0C\\u4F46\\u662F\\u662F\\u4E00\\u79CD\\u8FC7\\u6E21\\u7684\\u65B9\\u6848\\uFF0C\\u5DF2\\u7ECF\\u53BB\\u6389\\u4E86\\u3002\"]}),`\n`,(0,o.jsx)(e.p,{children:\"\\u901A\\u5E38\\u5F00\\u53D1\\u8005\\u53EF\\u80FD\\u4F1A\\u9047\\u5230\\u4EE5\\u4E0B\\u4E09\\u79CD\\u4F7F\\u7528 react \\u7684\\u6E32\\u67D3\\u6A21\\u5F0F\\uFF0C\\u7EDD\\u5927\\u591A\\u6570\\u5E94\\u8BE5\\u4F7F\\u7528\\u9ED8\\u8BA4\\u7684 Concurrent Mode\\uFF1A\"}),`\n`,(0,o.jsxs)(e.p,{children:[`Legacy Mode\\uFF08\\u9057\\u7559\\u6A21\\u5F0F\\uFF09\n\\u5BF9\\u5E94 API\\uFF1A`,(0,o.jsx)(e.code,{children:\"ReactDOM.render(\u003cApp /\u003e, rootNode)\"}),`\n\\u9057\\u7559\\u6A21\\u5F0F\\u662F React \\u9ED8\\u8BA4\\u7684\\u6E32\\u67D3\\u6A21\\u5F0F\\uFF0C\\u4E5F\\u662F\\u4E4B\\u524D\\u7248\\u672C\\u7684\\u884C\\u4E3A\\u3002\\u5728\\u9057\\u7559\\u6A21\\u5F0F\\u4E2D\\uFF0CReact \\u5728\\u8FDB\\u884C\\u521D\\u6B21\\u6E32\\u67D3\\u548C\\u66F4\\u65B0\\u65F6\\u4F1A\\u963B\\u585E\\u6D4F\\u89C8\\u5668\\u7684\\u4E3B\\u7EBF\\u7A0B\\u3002\\u8FD9\\u610F\\u5473\\u7740\\u5F53 React \\u66F4\\u65B0\\u7EC4\\u4EF6\\u65F6\\uFF0C\\u6D4F\\u89C8\\u5668\\u65E0\\u6CD5\\u540C\\u65F6\\u6267\\u884C\\u5176\\u4ED6\\u4EFB\\u52A1\\uFF0C\\u53EF\\u80FD\\u5BFC\\u81F4\\u7528\\u6237\\u4F53\\u9A8C\\u4E0D\\u4F73\\uFF0C\\u5C24\\u5176\\u662F\\u5728\\u9875\\u9762\\u590D\\u6742\\u3001\\u7EC4\\u4EF6\\u5D4C\\u5957\\u5C42\\u7EA7\\u6DF1\\u7684\\u60C5\\u51B5\\u4E0B\\u3002`]}),`\n`,(0,o.jsxs)(e.p,{children:[`Hydrate Mode\\uFF08\\u6CE8\\u6C34\\u6A21\\u5F0F\\uFF09\n\\u5BF9\\u5E94 API\\uFF1A`,(0,o.jsx)(e.code,{children:\"ReactDOM.hydrateRoot(rootNode, \u003cApp/\u003e)\"}),`\n\\u6CE8\\u6C34\\u6A21\\u5F0F\\u662F\\u7528\\u4E8E\\u670D\\u52A1\\u5668\\u7AEF\\u6E32\\u67D3\\uFF08SSR\\uFF09\\u7684\\u4E00\\u79CD\\u6A21\\u5F0F\\u3002\\u5728\\u670D\\u52A1\\u5668\\u7AEF\\u6E32\\u67D3\\u4E2D\\uFF0CReact \\u9996\\u6B21\\u5728\\u670D\\u52A1\\u5668\\u4E0A\\u6E32\\u67D3\\u9875\\u9762\\uFF0C\\u7136\\u540E\\u5C06\\u751F\\u6210\\u7684 HTML \\u53D1\\u9001\\u7ED9\\u5BA2\\u6237\\u7AEF\\uFF0C\\u5BA2\\u6237\\u7AEF\\u518D\\u5C06\\u5176\\u201C\\u6CE8\\u6C34\\u201D\\u8F6C\\u5316\\u4E3A\\u53EF\\u4EA4\\u4E92\\u7684 React \\u5E94\\u7528\\u3002\\u8FD9\\u4E2A\\u8FC7\\u7A0B\\u901A\\u5E38\\u901A\\u8FC7 ReactDOM.hydrate() \\u65B9\\u6CD5\\u6765\\u5B8C\\u6210\\uFF0C\\u5B83\\u4F1A\\u590D\\u7528\\u670D\\u52A1\\u5668\\u7AEF\\u751F\\u6210\\u7684 HTML \\u7ED3\\u6784\\uFF0C\\u7136\\u540E\\u5728\\u5BA2\\u6237\\u7AEF\\u4E0A\\u5B8C\\u6210\\u4E8B\\u4EF6\\u7ED1\\u5B9A\\u548C\\u4EA4\\u4E92\\u903B\\u8F91\\uFF0C\\u4EE5\\u63D0\\u9AD8\\u6027\\u80FD\\u548C\\u7528\\u6237\\u4F53\\u9A8C\\u3002`]}),`\n`,(0,o.jsxs)(e.p,{children:[`Concurrent Mode\\uFF08\\u5E76\\u53D1\\u6A21\\u5F0F\\uFF09\n\\u5BF9\\u5E94 API\\uFF1A`,(0,o.jsx)(e.code,{children:\"ReactDOM.createRoot(rootNode).render(\u003cApp /\u003e)\"}),`\n\\u5E76\\u53D1\\u6A21\\u5F0F\\u662F React 18 \\u5F15\\u5165\\u7684\\u65B0\\u7684\\u6E32\\u67D3\\u6A21\\u5F0F\\uFF0C\\u65E8\\u5728\\u63D0\\u9AD8\\u5E94\\u7528\\u7684\\u6027\\u80FD\\u548C\\u54CD\\u5E94\\u6027\\u3002\\u5728\\u5E76\\u53D1\\u6A21\\u5F0F\\u4E0B\\uFF0CReact \\u901A\\u8FC7\\u5C06\\u5DE5\\u4F5C\\u5206\\u89E3\\u4E3A\\u4F18\\u5148\\u7EA7\\u8F83\\u4F4E\\u7684\\u4EFB\\u52A1\\u5355\\u5143\\uFF0C\\u5E76\\u4F7F\\u7528\\u8C03\\u5EA6\\u5668\\u6765\\u534F\\u8C03\\u8FD9\\u4E9B\\u4EFB\\u52A1\\u7684\\u6267\\u884C\\uFF0C\\u4ECE\\u800C\\u5141\\u8BB8\\u6D4F\\u89C8\\u5668\\u5728\\u591A\\u4E2A\\u4EFB\\u52A1\\u4E4B\\u95F4\\u8FDB\\u884C\\u5207\\u6362\\uFF0C\\u4ECE\\u800C\\u4E0D\\u4F1A\\u963B\\u585E\\u4E3B\\u7EBF\\u7A0B\\u592A\\u957F\\u65F6\\u95F4\\u3002\\u8FD9\\u6709\\u52A9\\u4E8E\\u4FDD\\u6301\\u5E94\\u7528\\u7684\\u54CD\\u5E94\\u6027\\uFF0C\\u7279\\u522B\\u662F\\u5728\\u5904\\u7406\\u590D\\u6742\\u6E32\\u67D3\\u3001\\u52A8\\u753B\\u548C\\u4EA4\\u4E92\\u65F6\\u3002\\u5E76\\u53D1\\u6A21\\u5F0F\\u4F7F\\u5F97 React \\u80FD\\u591F\\u66F4\\u597D\\u5730\\u54CD\\u5E94\\u7528\\u6237\\u8F93\\u5165\\uFF0C\\u5E76\\u63D0\\u4F9B\\u66F4\\u5E73\\u6ED1\\u7684\\u7528\\u6237\\u4F53\\u9A8C\\u3002`]}),`\n`,(0,o.jsx)(e.p,{children:\"Concurrent Mode \\u5B9E\\u9645\\u4E0A\\u662F\\u5728 Legacy Mode \\u7684\\u57FA\\u7840\\u4E0A\\u53D1\\u5C55\\u800C\\u6765\\uFF08\\u90E8\\u5206\\u7279\\u6B8A\\u7684\\u6E32\\u67D3\\u573A\\u666F\\u4E0B\\uFF0C\\u4F1A\\u4ECD\\u7136\\u4F7F\\u7528 Legacy Mode \\u7684\\u4EE3\\u7801\\u8FDB\\u884C\\u5904\\u7406\\uFF09\\uFF0C\\u4E86\\u89E3 react \\u6E90\\u7801\\u53EF\\u4EE5\\u901A\\u8FC7 Legacy Mode \\u7684\\u4EE3\\u7801\\uFF0C\\u4EE5\\u6B64\\u4E3A\\u57FA\\u7840\\u4E0A\\u5B66\\u4E60 Concurrent Mode \\u7684 react18 \\u65B0\\u7279\\u6027\\u7684\\u5B9E\\u73B0\\u3002\"}),`\n`,(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:\"react/packages/react-reconciler/src/ReactTypeOfMode.js\"}),`\n\\u5B9E\\u9645\\u4E0A\\u6E90\\u7801\\u8FD8\\u5305\\u542B\\u4E86 `,(0,o.jsx)(e.code,{children:\"ReactDOMRoot.js\"}),\" \\u4E2D\\u4F1A\\u6839\\u636E\\u4E0D\\u540C\\u7684\\u6A21\\u5F0F\\uFF0C\\u8C03\\u7528\\u4E0D\\u540C\\u7684\\u6E32\\u67D3\\u65B9\\u6CD5\\u3002\\u4F46\\u662F\\u8FD9\\u4E9B\\u5176\\u5B9E\\u4E0D\\u662F\\u7279\\u522B\\u91CD\\u8981\\u3002\"]}),`\n`,(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:\"language-js\",children:`export const NoMode = /*                         */ 0b000000;\n// TODO: Remove ConcurrentMode by reading from the root tag instead\nexport const ConcurrentMode = /*                 */ 0b000001;\nexport const ProfileMode = /*                    */ 0b000010;\nexport const DebugTracingMode = /*               */ 0b000100;\nexport const StrictLegacyMode = /*               */ 0b001000;\nexport const StrictEffectsMode = /*              */ 0b010000;\nexport const ConcurrentUpdatesByDefaultMode = /* */ 0b100000;\n`})})]})}function b(n={}){let{wrapper:e}=n.components||{};return e?(0,o.jsx)(e,Object.assign({},n,{children:(0,o.jsx)(p,n)})):p(n)}var f=b;return y(j);})();\n;return Component;"},"__N_SSG":true},"page":"/[[...id]]","query":{"id":["react-src","render-mode"]},"buildId":"1n3RON42eWQmN0ceCWFd0","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>