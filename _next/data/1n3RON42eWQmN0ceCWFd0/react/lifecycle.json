{"pageProps":{"toc":[{"text":"类组件生命周期","hash":"#类组件生命周期","depth":1},{"text":"三个阶段","hash":"#三个阶段","depth":2},{"text":"生命周期函数","hash":"#生命周期函数","depth":2},{"text":"创建阶段","hash":"#创建阶段","depth":3},{"text":"更新阶段","hash":"#更新阶段","depth":3},{"text":"卸载阶段","hash":"#卸载阶段","depth":3},{"text":"部分旧生命周期函数被废弃的原因","hash":"#部分旧生命周期函数被废弃的原因","depth":3},{"text":"hook 模拟类组件生命周期","hash":"#hook-模拟类组件生命周期","depth":2},{"text":"参考资料","hash":"#参考资料","depth":2}],"code":"var Component=(()=>{var a=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var f=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports),D=(r,n)=>{for(var c in n)l(r,c,{get:n[c],enumerable:!0})},t=(r,n,c,i)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let h of g(n))!u.call(r,h)&&h!==c&&l(r,h,{get:()=>n[h],enumerable:!(i=p(n,h))||i.enumerable});return r};var j=(r,n,c)=>(c=r!=null?a(m(r)):{},t(n||!r||!r.__esModule?l(c,\"default\",{value:r,enumerable:!0}):c,r)),M=r=>t(l({},\"__esModule\",{value:!0}),r);var d=f((_,o)=>{o.exports=_jsx_runtime});var O={};D(O,{default:()=>F});var e=j(d());function s(r){let n=Object.assign({h1:\"h1\",p:\"p\",strong:\"strong\",h2:\"h2\",ul:\"ul\",li:\"li\",h3:\"h3\",code:\"code\",a:\"a\",pre:\"pre\"},r.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.h1,{hash:\"\\u7C7B\\u7EC4\\u4EF6\\u751F\\u547D\\u5468\\u671F\",children:\"\\u7C7B\\u7EC4\\u4EF6\\u751F\\u547D\\u5468\\u671F\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u7C7B\\u7EC4\\u4EF6\\u4ECE\\u521B\\u5EFA\\u5230\\u9500\\u6BC1\\u7684\\u8FC7\\u7A0B\\uFF0C\",(0,e.jsx)(n.strong,{children:\"react\"}),\" \\u4F1A\\u5728\\u5404\\u4E2A\\u9636\\u6BB5\\u6267\\u884C\\u5BF9\\u5E94\\u7684\\u751F\\u547D\\u5468\\u671F\\u94A9\\u5B50\\u51FD\\u6570\\u3002\"]}),`\n`,(0,e.jsx)(n.h2,{hash:\"\\u4E09\\u4E2A\\u9636\\u6BB5\",children:\"\\u4E09\\u4E2A\\u9636\\u6BB5\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u521D\\u59CB\\u6E32\\u67D3\\u9636\\u6BB5\"}),\"\\uFF1A\\u7EC4\\u4EF6\\u88AB\\u521B\\u5EFA\\uFF0C\\u63D2\\u5165\\u5230 DOM \\u4E2D\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u66F4\\u65B0\\u9636\\u6BB5\"}),\"\\uFF1A\\u7EC4\\u4EF6\\u88AB\\u63D2\\u5165\\u5230 DOM \\u540E\\uFF0C\\u5B83\\u53EA\\u6709\\u5728 prop \\u6216 state \\u53D1\\u751F\\u53D8\\u5316\\u65F6\\u624D\\u53EF\\u80FD\\u66F4\\u65B0\\u548C\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5378\\u8F7D\\u9636\\u6BB5\"}),\"\\uFF1A\\u7EC4\\u4EF6\\u751F\\u547D\\u5468\\u671F\\u7684\\u6700\\u540E\\u9636\\u6BB5\\uFF0C\\u7EC4\\u4EF6\\u88AB\\u9500\\u6BC1\\u5E76\\u4ECE DOM \\u4E2D\\u5220\\u9664\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{hash:\"\\u751F\\u547D\\u5468\\u671F\\u51FD\\u6570\",children:\"\\u751F\\u547D\\u5468\\u671F\\u51FD\\u6570\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u7C7B\\u7EC4\\u4EF6\\u53EF\\u4EE5\\u5305\\u542B\\u4EE5\\u4E0B\\u751F\\u547D\\u5468\\u671F\\u51FD\\u6570\\uFF0C\\u5B83\\u4EEC\\u5C06\\u5728\\u7EC4\\u4EF6\\u88AB\\u6E32\\u67D3\\u65F6\\u6267\\u884C\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{hash:\"\\u521B\\u5EFA\\u9636\\u6BB5\",children:\"\\u521B\\u5EFA\\u9636\\u6BB5\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"constructor\"}),\" \\uFF1A\\u7EC4\\u4EF6\\u6302\\u8F7D\\u524D\\u8C03\\u7528\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"getDerivedStateFromProps\"}),\" \\uFF1A\\u5728\\u8C03\\u7528 render \\u65B9\\u6CD5\\u4E4B\\u524D\\u8C03\\u7528\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"render\"}),\" \\uFF1A\\u552F\\u4E00\\u5FC5\\u987B\\u5B9E\\u73B0\\u7684\\u65B9\\u6CD5\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"componentDidMount\"}),\" \\uFF1A\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u540E\\uFF08\\u63D2\\u5165 DOM \\u6811\\u4E2D\\uFF09\\u7ACB\\u5373\\u8C03\\u7528\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{hash:\"\\u66F4\\u65B0\\u9636\\u6BB5\",children:\"\\u66F4\\u65B0\\u9636\\u6BB5\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"getDerivedStateFromProps\"}),\" \\uFF1A\\u5728\\u8C03\\u7528 render \\u65B9\\u6CD5\\u4E4B\\u524D\\u8C03\\u7528\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"shouldComponentUpdate\"}),\" \\uFF1A\\u5F53 props \\u6216 state \\u53D1\\u751F\\u53D8\\u5316\\u65F6\\uFF0C\\u4ED6\\u4F1A\\u5728\\u6E32\\u67D3\\u6267\\u884C\\u4E4B\\u524D\\u88AB\\u8C03\\u7528\\uFF0C\\u7528\\u4E8E\\u5224\\u65AD\\u662F\\u5426\\u53D1\\u8D77\\u66F4\\u65B0\"]}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"render\"})}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"getSnapshotBeforeUpdate\"}),\" \\uFF1A\\u5728\\u6700\\u8FD1\\u4E00\\u6B21\\u6E32\\u67D3\\u8F93\\u51FA\\uFF08\\u63D0\\u4EA4\\u5230 DOM \\u8282\\u70B9\\uFF09\\u4E4B\\u524D\\u8C03\\u7528\\uFF08\\u4E0D\\u5E38\\u7528\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"componentDidUpdate\"}),\" \\uFF1A\\u5728\\u66F4\\u65B0\\u540E\\u4F1A\\u88AB\\u7ACB\\u5373\\u8C03\\u7528\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{hash:\"\\u5378\\u8F7D\\u9636\\u6BB5\",children:\"\\u5378\\u8F7D\\u9636\\u6BB5\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"componentWillUnmount\"}),\" \\uFF1A\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u53CA\\u9500\\u6BC1\\u4E4B\\u524D\\u76F4\\u63A5\\u8C03\\u7528\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6A2A\\u5411\\u4EE5\\u7EC4\\u4EF6\\u751F\\u547D\\u5468\\u671F\\uFF0C\\u7EB5\\u5411\\u4EE5 react \\u8FD0\\u884C\\u9636\\u6BB5\"}),`\n`,(0,e.jsx)(\"img\",{src:\"/react-lifecycle-methods.jpg\"}),`\n`,(0,e.jsx)(n.h3,{hash:\"\\u90E8\\u5206\\u65E7\\u751F\\u547D\\u5468\\u671F\\u51FD\\u6570\\u88AB\\u5E9F\\u5F03\\u7684\\u539F\\u56E0\",children:\"\\u90E8\\u5206\\u65E7\\u751F\\u547D\\u5468\\u671F\\u51FD\\u6570\\u88AB\\u5E9F\\u5F03\\u7684\\u539F\\u56E0\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"getDerivedStateFromProps\"}),\" \\u53D6\\u4EE3\\u4E86\\u4EE5\\u4E0B\\u4E09\\u4E2A\\u65E7\\u751F\\u547D\\u5468\\u671F\\u51FD\\u6570\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"componentWillMount\"}),`\n`,(0,e.jsx)(n.li,{children:\"componentWillReceiveProps\"}),`\n`,(0,e.jsx)(n.li,{children:\"componentWillUpdate\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u56E0\\u4E3A React Fiber \\u7684\\xA0\",(0,e.jsx)(n.strong,{children:\"Reconciliation\"}),`\\xA0\\u6709\\u53EF\\u80FD\\u5BFC\\u81F4\\u7EC4\\u4EF6\\u6E32\\u67D3\\u65F6\\u6682\\u505C\\u7136\\u540E\\u7EE7\\u7EED\\u6267\\u884C\\uFF0C\\u6240\\u4EE5\\u6302\\u8F7D\\u548C\\u66F4\\u65B0\\u4E4B\\u524D\\u7684\\u751F\\u547D\\u5468\\u671F\\u94A9\\u5B50\\u5C31\\u6709\\u53EF\\u80FD\\u4E0D\\u6267\\u884C\\u6216\\u8005\\u591A\\u6B21\\u6267\\u884C\\u3002\n\\u5177\\u4F53\\u5206\\u6790\\u53C2\\u8003 `,(0,e.jsx)(n.a,{href:\"https://zhuanlan.zhihu.com/p/26027085\",children:\"React Fiber\\u5BF9\\u73B0\\u6709\\u4EE3\\u7801\\u7684\\u5F71\\u54CD\"})]}),`\n`,(0,e.jsx)(n.h2,{hash:\"hook-\\u6A21\\u62DF\\u7C7B\\u7EC4\\u4EF6\\u751F\\u547D\\u5468\\u671F\",children:\"hook \\u6A21\\u62DF\\u7C7B\\u7EC4\\u4EF6\\u751F\\u547D\\u5468\\u671F\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-js\",children:`useEffect(()=>{\n  // componentDidMount\n\n  return () => {\n    // componentWillUnmount\n  }\n}, [])\n\n\nuseEffect(() => {\n  // componentDidUpdate\n}, [deps..])\n`})}),`\n`,(0,e.jsx)(n.h2,{hash:\"\\u53C2\\u8003\\u8D44\\u6599\",children:\"\\u53C2\\u8003\\u8D44\\u6599\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://zh-hans.legacy.reactjs.org/docs/react-component.html#reference\",children:\"https://zh-hans.legacy.reactjs.org/docs/react-component.html#reference\"})})]})}function x(r={}){let{wrapper:n}=r.components||{};return n?(0,e.jsx)(n,Object.assign({},r,{children:(0,e.jsx)(s,r)})):s(r)}var F=x;return M(O);})();\n;return Component;"},"__N_SSG":true}