{"pageProps":{"toc":[{"text":"渲染模式","hash":"#渲染模式","depth":1}],"code":"var Component=(()=>{var h=Object.create;var r=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var R=(c,e)=>()=>(e||c((e={exports:{}}).exports,e),e.exports),m=(c,e)=>{for(var o in e)r(c,o,{get:e[o],enumerable:!0})},a=(c,e,o,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let t of M(e))!g.call(c,t)&&t!==o&&r(c,t,{get:()=>e[t],enumerable:!(d=l(e,t))||d.enumerable});return c};var x=(c,e,o)=>(o=c!=null?h(u(c)):{},a(e||!c||!c.__esModule?r(o,\"default\",{value:c,enumerable:!0}):o,c)),y=c=>a(r({},\"__esModule\",{value:!0}),c);var i=R((O,s)=>{s.exports=_jsx_runtime});var j={};m(j,{default:()=>f});var n=x(i());function p(c){let e=Object.assign({h1:\"h1\",p:\"p\",a:\"a\",code:\"code\",pre:\"pre\"},c.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{hash:\"\\u6E32\\u67D3\\u6A21\\u5F0F\",children:\"\\u6E32\\u67D3\\u6A21\\u5F0F\"}),`\n`,(0,n.jsxs)(e.p,{children:[`\\u76EE\\u524D react18 \\u7684\\u6E32\\u67D3\\u6A21\\u5F0F\\u6709 legacy/hydrate/concurrent mode\n\\u5728 17 \\u6709 `,(0,n.jsx)(e.a,{href:\"https://17.reactjs.org/docs/concurrent-mode-adoption.html#feature-comparison\",children:\"blocking Mode\"}),\" \\uFF0C\\u4F46\\u662F\\u662F\\u4E00\\u79CD\\u8FC7\\u6E21\\u7684\\u65B9\\u6848\\uFF0C\\u5DF2\\u7ECF\\u53BB\\u6389\\u4E86\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u901A\\u5E38\\u5F00\\u53D1\\u8005\\u53EF\\u80FD\\u4F1A\\u9047\\u5230\\u4EE5\\u4E0B\\u4E09\\u79CD\\u4F7F\\u7528 react \\u7684\\u6E32\\u67D3\\u6A21\\u5F0F\\uFF0C\\u7EDD\\u5927\\u591A\\u6570\\u5E94\\u8BE5\\u4F7F\\u7528\\u9ED8\\u8BA4\\u7684 Concurrent Mode\\uFF1A\"}),`\n`,(0,n.jsxs)(e.p,{children:[`Legacy Mode\\uFF08\\u9057\\u7559\\u6A21\\u5F0F\\uFF09\n\\u5BF9\\u5E94 API\\uFF1A`,(0,n.jsx)(e.code,{children:\"ReactDOM.render(<App />, rootNode)\"}),`\n\\u9057\\u7559\\u6A21\\u5F0F\\u662F React \\u9ED8\\u8BA4\\u7684\\u6E32\\u67D3\\u6A21\\u5F0F\\uFF0C\\u4E5F\\u662F\\u4E4B\\u524D\\u7248\\u672C\\u7684\\u884C\\u4E3A\\u3002\\u5728\\u9057\\u7559\\u6A21\\u5F0F\\u4E2D\\uFF0CReact \\u5728\\u8FDB\\u884C\\u521D\\u6B21\\u6E32\\u67D3\\u548C\\u66F4\\u65B0\\u65F6\\u4F1A\\u963B\\u585E\\u6D4F\\u89C8\\u5668\\u7684\\u4E3B\\u7EBF\\u7A0B\\u3002\\u8FD9\\u610F\\u5473\\u7740\\u5F53 React \\u66F4\\u65B0\\u7EC4\\u4EF6\\u65F6\\uFF0C\\u6D4F\\u89C8\\u5668\\u65E0\\u6CD5\\u540C\\u65F6\\u6267\\u884C\\u5176\\u4ED6\\u4EFB\\u52A1\\uFF08\\u9875\\u9762\\u65E0\\u6CD5\\u88AB\\u54CD\\u5E94\\uFF09\\uFF0C\\u53EF\\u80FD\\u5BFC\\u81F4\\u7528\\u6237\\u4F53\\u9A8C\\u4E0D\\u4F73\\uFF0C\\u5C24\\u5176\\u662F\\u5728\\u9875\\u9762\\u590D\\u6742\\u3001\\u7EC4\\u4EF6\\u5D4C\\u5957\\u5C42\\u7EA7\\u6DF1\\u7684\\u60C5\\u51B5\\u4E0B\\u3002`]}),`\n`,(0,n.jsx)(e.p,{children:\"Ps\\uFF1A\\u7B80\\u5355\\u7406\\u89E3\\u662F\\u57FA\\u4E8E\\u51FD\\u6570\\u8C03\\u7528\\u6808\\u7684\\u9012\\u5F52\\u65B9\\u6848\\uFF0C\\u5904\\u7406\\u6E32\\u67D3\\u4EFB\\u52A1\\u65F6\\u5360\\u636E\\u7740\\u4E3B\\u7EBF\\u7A0B\\u5BFC\\u81F4\\u6D4F\\u89C8\\u5668\\u65E0\\u6CD5\\u5904\\u7406\\u9875\\u9762\\u54CD\\u5E94\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[`Hydrate Mode\\uFF08\\u6CE8\\u6C34\\u6A21\\u5F0F\\uFF09\n\\u5BF9\\u5E94 API\\uFF1A`,(0,n.jsx)(e.code,{children:\"ReactDOM.hydrateRoot(rootNode, <App/>)\"}),`\n\\u6CE8\\u6C34\\u6A21\\u5F0F\\u662F\\u7528\\u4E8E\\u670D\\u52A1\\u5668\\u7AEF\\u6E32\\u67D3\\uFF08SSR\\uFF09\\u7684\\u4E00\\u79CD\\u6A21\\u5F0F\\u3002\\u5728\\u670D\\u52A1\\u5668\\u7AEF\\u6E32\\u67D3\\u4E2D\\uFF0CReact \\u9996\\u6B21\\u5728\\u670D\\u52A1\\u5668\\u4E0A\\u6E32\\u67D3\\u9875\\u9762\\uFF0C\\u7136\\u540E\\u5C06\\u751F\\u6210\\u7684 HTML \\u53D1\\u9001\\u7ED9\\u5BA2\\u6237\\u7AEF\\uFF0C\\u5BA2\\u6237\\u7AEF\\u518D\\u5C06\\u5176\\u201C\\u6CE8\\u6C34\\u201D\\u8F6C\\u5316\\u4E3A\\u53EF\\u4EA4\\u4E92\\u7684 React \\u5E94\\u7528\\u3002\\u8FD9\\u4E2A\\u8FC7\\u7A0B\\u901A\\u5E38\\u901A\\u8FC7`,(0,n.jsx)(e.code,{children:\"ReactDOM.hydrate()\"}),\"\\u65B9\\u6CD5\\u6765\\u5B8C\\u6210\\uFF0C\\u5B83\\u4F1A\\u590D\\u7528\\u670D\\u52A1\\u5668\\u7AEF\\u751F\\u6210\\u7684 HTML \\u7ED3\\u6784\\uFF0C\\u7136\\u540E\\u5728\\u5BA2\\u6237\\u7AEF\\u4E0A\\u5B8C\\u6210\\u4E8B\\u4EF6\\u7ED1\\u5B9A\\u548C\\u4EA4\\u4E92\\u903B\\u8F91\\uFF0C\\u4EE5\\u63D0\\u9AD8\\u6027\\u80FD\\u548C\\u7528\\u6237\\u4F53\\u9A8C\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`Concurrent Mode\\uFF08\\u5E76\\u53D1\\u6A21\\u5F0F\\uFF09\n\\u5BF9\\u5E94 API\\uFF1A`,(0,n.jsx)(e.code,{children:\"ReactDOM.createRoot(rootNode).render(<App />)\"}),`\n\\u5E76\\u53D1\\u6A21\\u5F0F\\u662F React 18 \\u5F15\\u5165\\u7684\\u65B0\\u7684\\u6E32\\u67D3\\u6A21\\u5F0F\\uFF0C\\u65E8\\u5728\\u63D0\\u9AD8\\u5E94\\u7528\\u7684\\u6027\\u80FD\\u548C\\u54CD\\u5E94\\u6027\\u3002\\u5728\\u5E76\\u53D1\\u6A21\\u5F0F\\u4E0B\\uFF0CReact \\u901A\\u8FC7\\u5C06\\u5DE5\\u4F5C\\u5206\\u89E3\\u4E3A\\u4F18\\u5148\\u7EA7\\u8F83\\u4F4E\\u7684\\u4EFB\\u52A1\\u5355\\u5143\\uFF0C\\u5E76\\u4F7F\\u7528\\u8C03\\u5EA6\\u5668\\u6765\\u534F\\u8C03\\u8FD9\\u4E9B\\u4EFB\\u52A1\\u7684\\u6267\\u884C\\uFF0C\\u4ECE\\u800C\\u5141\\u8BB8\\u6D4F\\u89C8\\u5668\\u5728\\u591A\\u4E2A\\u4EFB\\u52A1\\u4E4B\\u95F4\\u8FDB\\u884C\\u5207\\u6362\\uFF0C\\u4ECE\\u800C\\u4E0D\\u4F1A\\u963B\\u585E\\u4E3B\\u7EBF\\u7A0B\\u592A\\u957F\\u65F6\\u95F4\\u3002\\u8FD9\\u6709\\u52A9\\u4E8E\\u4FDD\\u6301\\u5E94\\u7528\\u7684\\u54CD\\u5E94\\u6027\\uFF0C\\u7279\\u522B\\u662F\\u5728\\u5904\\u7406\\u590D\\u6742\\u6E32\\u67D3\\u3001\\u52A8\\u753B\\u548C\\u4EA4\\u4E92\\u65F6\\u3002\\u5E76\\u53D1\\u6A21\\u5F0F\\u4F7F\\u5F97 React \\u80FD\\u591F\\u66F4\\u597D\\u5730\\u54CD\\u5E94\\u7528\\u6237\\u8F93\\u5165\\uFF0C\\u5E76\\u63D0\\u4F9B\\u66F4\\u5E73\\u6ED1\\u7684\\u7528\\u6237\\u4F53\\u9A8C\\u3002`]}),`\n`,(0,n.jsx)(e.p,{children:\"Ps\\uFF1A \\u7B80\\u5355\\u7406\\u89E3\\u662F\\u57FA\\u4E8E\\u5B8F\\u4EFB\\u52A1\\u7684\\u4EFB\\u52A1\\u961F\\u5217\\u65B9\\u6848\\uFF0C\\u5728\\u5904\\u7406\\u6E32\\u67D3\\u4EFB\\u52A1\\u65F6\\u80FD\\u8BA9\\u6E21\\u4E3B\\u7EBF\\u7A0B\\u7684\\u5904\\u7406\\u6743\\u7ED9\\u6D4F\\u89C8\\u5668\\u53BB\\u5904\\u7406\\u9875\\u9762\\u54CD\\u5E94\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"Concurrent Mode \\u5B9E\\u9645\\u4E0A\\u662F\\u5728 Legacy Mode \\u7684\\u57FA\\u7840\\u4E0A\\u53D1\\u5C55\\u800C\\u6765\\uFF08\\u90E8\\u5206\\u7279\\u6B8A\\u7684\\u6E32\\u67D3\\u573A\\u666F\\u4E0B\\uFF0C\\u4F1A\\u4ECD\\u7136\\u4F7F\\u7528 Legacy Mode \\u7684\\u4EE3\\u7801\\u8FDB\\u884C\\u5904\\u7406\\uFF09\\uFF0C\\u672C\\u8D28\\u4E0A Concurrent Mode \\u662F Legacy Mode \\u7684\\u4EE3\\u7801\\u53D1\\u5C55\\u800C\\u6765\\uFF0C\\u589E\\u52A0 react18 \\u65B0\\u7279\\u6027\\u7684\\u5B9E\\u73B0\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5B9E\\u9645\\u4E0A\\u6E90\\u7801\\u8FD8\\u5305\\u542B\\u4E86 \",(0,n.jsx)(e.code,{children:\"ReactDOMRoot.js\"}),\" \\u4E2D\\u4F1A\\u6839\\u636E\\u4E0D\\u540C\\u7684\\u6A21\\u5F0F\\uFF0C\\u8C03\\u7528\\u4E0D\\u540C\\u7684\\u6E32\\u67D3\\u65B9\\u6CD5\\u3002\\u4F46\\u662F\\u8FD9\\u4E9B\\u5176\\u5B9E\\u4E0D\\u662F\\u7279\\u522B\\u91CD\\u8981\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",children:`// react/packages/react-reconciler/src/ReactTypeOfMode.js\n\nexport const NoMode = /*                         */ 0b000000;\n// TODO: Remove ConcurrentMode by reading from the root tag instead\nexport const ConcurrentMode = /*                 */ 0b000001;\nexport const ProfileMode = /*                    */ 0b000010;\nexport const DebugTracingMode = /*               */ 0b000100;\nexport const StrictLegacyMode = /*               */ 0b001000;\nexport const StrictEffectsMode = /*              */ 0b010000;\nexport const ConcurrentUpdatesByDefaultMode = /* */ 0b100000;\n`})})]})}function b(c={}){let{wrapper:e}=c.components||{};return e?(0,n.jsx)(e,Object.assign({},c,{children:(0,n.jsx)(p,c)})):p(c)}var f=b;return y(j);})();\n;return Component;"},"__N_SSG":true}